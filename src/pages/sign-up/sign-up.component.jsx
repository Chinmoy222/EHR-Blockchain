import React, { useState } from "react";
import "./sign-up.styles.css";
import { Container, Row, Col, Button } from "react-bootstrap";
import {CopyToClipboard} from 'react-copy-to-clipboard';
import abi from "../../storehash";
import web3 from "../../web3";
import SignUpForm from './sign-upForm.component';

const SignUpPage = (props) => {
  const [address, setAddress] = useState("");
  // const [password, setPassword] = useState("");
  const [messageValue, setMessageValue] = useState("");

  const storehash = new web3.eth.Contract(abi);

  const submitHandler = async (enteredPatientData) => {
    props.addressChanger(address);
    console.log(address);

    const patientData = {
      ...enteredPatientData,
    };

    console.log(patientData);
    setMessageValue("Transaction is being processed...");
    const accounts = await web3.eth.getAccounts();

    //
    console.log("Attempting to deploy from account", accounts[0]);
  const ehr = await storehash
    .deploy({
      data: "0x606060405234156200001057600080fd5b60405162003f0e38038062003f0e83398101604052808051820191906020018051820191906020018051820191906020018051820191906020018051820191906020018051820191906020018051820191906020018051820191906020018051820191905050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508860079080519060200190620000ce929190620001a6565b508760089080519060200190620000e7929190620001a6565b50866009908051906020019062000100929190620001a6565b5085600a908051906020019062000119929190620001a6565b5084600b908051906020019062000132929190620001a6565b5083600c90805190602001906200014b929190620001a6565b5082600d908051906020019062000164929190620001a6565b5081600e90805190602001906200017d929190620001a6565b5080600f908051906020019062000196929190620001a6565b5050505050505050505062000255565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620001e957805160ff19168380011785556200021a565b828001600101855582156200021a579182015b8281111562000219578251825591602001919060010190620001fc565b5b5090506200022991906200022d565b5090565b6200025291905b808211156200024e57600081600090555060010162000234565b5090565b90565b613ca980620002656000396000f3006060604052361561022e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630379915d146102335780630728d2df146102c157806307a163451461035d5780630d943da2146103ba57806311450fe114610456578063157e7490146104e457806317d7de7c146105415780631865c57d146105cf5780631c46c7f11461065d578063282b065a1461068a5780632a9bc457146106e75780633a0b8c0e146107445780633fb0bcd51461076d5780635b7508de146107965780635ccc7a6a14610832578063644311191461085f57806368794b87146108985780636946f2f9146108f55780636ae2b3631461091e5780637211d5231461097b57806373c440db14610a0957806377b1070b14610aa55780637abbe45914610b885780637e79e8ba14610beb5780637f70e93d14610c7957806381dc6fd214610d5c5780638863bab014610dbf57806389c19ddb14610e4d5780638da5cb5b14610f6657806391698c6714610fbb57806396942594146110255780639762bac814611082578063a7779085146110df578063c20935d81461113c578063c47f002714611199578063c68a608d146111f6578063cddd8fa51461122f578063d789aa3014611312578063dd07cb741461133b578063dd9e54b3146113c9578063dfe68b5414611426578063e1af049114611483578063e794ea93146114e0578063f07513eb1461157c578063f35831c9146115d9578063f35d70cc14611667575b600080fd5b341561023e57600080fd5b610246611690565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561028657808201518184015260208101905061026b565b50505050905090810190601f1680156102b35780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156102cc57600080fd5b6102e26004808035906020019091905050611752565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610322578082015181840152602081019050610307565b50505050905090810190601f16801561034f5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561036857600080fd5b6103b8600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505061182e565b005b34156103c557600080fd5b6103db6004808035906020019091905050611887565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561041b578082015181840152602081019050610400565b50505050905090810190601f1680156104485780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561046157600080fd5b610469611963565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156104a957808201518184015260208101905061048e565b50505050905090810190601f1680156104d65780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156104ef57600080fd5b61053f600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050611a25565b005b341561054c57600080fd5b610554611a7e565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610594578082015181840152602081019050610579565b50505050905090810190601f1680156105c15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156105da57600080fd5b6105e2611b40565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610622578082015181840152602081019050610607565b50505050905090810190601f16801561064f5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561066857600080fd5b610670611c02565b604051808215151515815260200191505060405180910390f35b341561069557600080fd5b6106e5600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050611d5a565b005b34156106f257600080fd5b610742600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050611dcf565b005b341561074f57600080fd5b610757611e28565b6040518082815260200191505060405180910390f35b341561077857600080fd5b610780611e4f565b6040518082815260200191505060405180910390f35b34156107a157600080fd5b6107b76004808035906020019091905050611e76565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156107f75780820151818401526020810190506107dc565b50505050905090810190601f1680156108245780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561083d57600080fd5b610845611f52565b604051808215151515815260200191505060405180910390f35b341561086a57600080fd5b610896600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506120f8565b005b34156108a357600080fd5b6108f3600480803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919050506121b9565b005b341561090057600080fd5b61090861222e565b6040518082815260200191505060405180910390f35b341561092957600080fd5b610979600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050612255565b005b341561098657600080fd5b61098e6122ae565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156109ce5780820151818401526020810190506109b3565b50505050905090810190601f1680156109fb5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3415610a1457600080fd5b610a2a6004808035906020019091905050612370565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610a6a578082015181840152602081019050610a4f565b50505050905090810190601f168015610a975780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3415610ab057600080fd5b610b86600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505061244c565b005b3415610b9357600080fd5b610ba960048080359060200190919050506126c4565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3415610bf657600080fd5b610bfe612703565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610c3e578082015181840152602081019050610c23565b50505050905090810190601f168015610c6b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3415610c8457600080fd5b610d5a600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919050506127c5565b005b3415610d6757600080fd5b610d7d6004808035906020019091905050612a01565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3415610dca57600080fd5b610dd2612a40565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610e12578082015181840152602081019050610df7565b50505050905090810190601f168015610e3f5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3415610e5857600080fd5b610eeb600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050612b02565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610f2b578082015181840152602081019050610f10565b50505050905090810190601f168015610f585780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3415610f7157600080fd5b610f79612cde565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3415610fc657600080fd5b610fce612d03565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015611011578082015181840152602081019050610ff6565b505050509050019250505060405180910390f35b341561103057600080fd5b611080600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050612d97565b005b341561108d57600080fd5b6110dd600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050612e0c565b005b34156110ea57600080fd5b61113a600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050613073565b005b341561114757600080fd5b611197600480803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919050506132d8565b005b34156111a457600080fd5b6111f4600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505061334d565b005b341561120157600080fd5b61122d600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506133c2565b005b341561123a57600080fd5b611310600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050613483565b005b341561131d57600080fd5b61132561356f565b6040518082815260200191505060405180910390f35b341561134657600080fd5b61134e613596565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561138e578082015181840152602081019050611373565b50505050905090810190601f1680156113bb5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156113d457600080fd5b611424600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050613658565b005b341561143157600080fd5b611481600480803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919050506136cd565b005b341561148e57600080fd5b6114de600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050613742565b005b34156114eb57600080fd5b61150160048080359060200190919050506137b7565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015611541578082015181840152602081019050611526565b50505050905090810190601f16801561156e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561158757600080fd5b6115d7600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050613893565b005b34156115e457600080fd5b6115ec613908565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561162c578082015181840152602081019050611611565b50505050905090810190601f1680156116595780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561167257600080fd5b61167a6139ca565b6040518082815260200191505060405180910390f35b6116986139f1565b600115156116a4611f52565b15151415156116b257600080fd5b600e8054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117485780601f1061171d57610100808354040283529160200191611748565b820191906000526020600020905b81548152906001019060200180831161172b57829003601f168201915b5050505050905090565b61175a6139f1565b60011515611766611f52565b151514151561177457600080fd5b60118281548110151561178357fe5b90600052602060002090018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156118225780601f106117f757610100808354040283529160200191611822565b820191906000526020600020905b81548152906001019060200180831161180557829003601f168201915b50505050509050919050565b6001151561183a611c02565b151514151561184857600080fd5b6004805480600101828161185c9190613a05565b916000526020600020900160008390919091509080519060200190611882929190613a31565b505050565b61188f6139f1565b6001151561189b611f52565b15151415156118a957600080fd5b6005828154811015156118b857fe5b90600052602060002090018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156119575780601f1061192c57610100808354040283529160200191611957565b820191906000526020600020905b81548152906001019060200180831161193a57829003601f168201915b50505050509050919050565b61196b6139f1565b60011515611977611f52565b151514151561198557600080fd5b600c8054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611a1b5780601f106119f057610100808354040283529160200191611a1b565b820191906000526020600020905b8154815290600101906020018083116119fe57829003601f168201915b5050505050905090565b60011515611a31611c02565b1515141515611a3f57600080fd5b60038054806001018281611a539190613a05565b916000526020600020900160008390919091509080519060200190611a79929190613a31565b505050565b611a866139f1565b60011515611a92611f52565b1515141515611aa057600080fd5b60078054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611b365780601f10611b0b57610100808354040283529160200191611b36565b820191906000526020600020905b815481529060010190602001808311611b1957829003601f168201915b5050505050905090565b611b486139f1565b60011515611b54611f52565b1515141515611b6257600080fd5b600f8054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611bf85780601f10611bcd57610100808354040283529160200191611bf8565b820191906000526020600020905b815481529060010190602001808311611bdb57829003601f168201915b5050505050905090565b6000806000806001805490501115611cab57600091505b600180549050821015611caa573373ffffffffffffffffffffffffffffffffffffffff16600183815481101515611c4c57fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415611c9d5760019250611d55565b8180600101925050611c19565b5b60006002805490501115611d5057600090505b600280549050811015611d4f573373ffffffffffffffffffffffffffffffffffffffff16600282815481101515611cf157fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415611d425760019250611d55565b8080600101915050611cbe565b5b600092505b505090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611db557600080fd5b8060099080519060200190611dcb929190613a31565b5050565b60011515611ddb611c02565b1515141515611de957600080fd5b60108054806001018281611dfd9190613a05565b916000526020600020900160008390919091509080519060200190611e23929190613a31565b505050565b600060011515611e36611f52565b1515141515611e4457600080fd5b600380549050905090565b600060011515611e5d611f52565b1515141515611e6b57600080fd5b601180549050905090565b611e7e6139f1565b60011515611e8a611f52565b1515141515611e9857600080fd5b600382815481101515611ea757fe5b90600052602060002090018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611f465780601f10611f1b57610100808354040283529160200191611f46565b820191906000526020600020905b815481529060010190602001808311611f2957829003601f168201915b50505050509050919050565b6000806000806001805490501115611ffb57600091505b600180549050821015611ffa573373ffffffffffffffffffffffffffffffffffffffff16600183815481101515611f9c57fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415611fed57600192506120f3565b8180600101925050611f69565b5b600060028054905011156120a057600090505b60028054905081101561209f573373ffffffffffffffffffffffffffffffffffffffff1660028281548110151561204157fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141561209257600192506120f3565b808060010191505061200e565b5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161492505b505090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561215357600080fd5b600280548060010182816121679190613ab1565b9160005260206000209001600083909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561221457600080fd5b80600f908051906020019061222a929190613a31565b5050565b60006001151561223c611f52565b151514151561224a57600080fd5b600480549050905090565b60011515612261611c02565b151514151561226f57600080fd5b601180548060010182816122839190613a05565b9160005260206000209001600083909190915090805190602001906122a9929190613a31565b505050565b6122b66139f1565b600115156122c2611f52565b15151415156122d057600080fd5b60088054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156123665780601f1061233b57610100808354040283529160200191612366565b820191906000526020600020905b81548152906001019060200180831161234957829003601f168201915b5050505050905090565b6123786139f1565b60011515612384611f52565b151514151561239257600080fd5b6004828154811015156123a157fe5b90600052602060002090018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156124405780601f1061241557610100808354040283529160200191612440565b820191906000526020600020905b81548152906001019060200180831161242357829003601f168201915b50505050509050919050565b6124546139f1565b60008060011515612463611f52565b151514151561247157600080fd5b6124c26124bc876124b76040805190810160405280600181526020017f200000000000000000000000000000000000000000000000000000000000000081525089612b02565b612b02565b85612b02565b9250600091505b6005805490508210156125de57826040518082805190602001908083835b60208310151561250c57805182526020820191506020810190506020830392506124e7565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660058381548110151561254c57fe5b906000526020600020900160405180828054600181600116156101000203166002900480156125b25780601f106125905761010080835404028352918201916125b2565b820191906000526020600020905b81548152906001019060200180831161259e575b505091505060405180910390206000191614156125d1578190506125de565b81806001019250506124c9565b600580549050811015156125f1576126bc565b8091505b6001600580549050038210156126695760056001830181548110151561261757fe5b906000526020600020900160058381548110151561263157fe5b9060005260206000209001908054600181600116156101000203166002900461265b929190613add565b5081806001019250506125f5565b600580548091906001900361267e9190613b64565b50600680548060010182816126939190613a05565b9160005260206000209001600085909190915090805190602001906126b9929190613a31565b50505b505050505050565b6001818154811015156126d357fe5b90600052602060002090016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b61270b6139f1565b60011515612717611f52565b151514151561272557600080fd5b60098054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156127bb5780601f10612790576101008083540402835291602001916127bb565b820191906000526020600020905b81548152906001019060200180831161279e57829003601f168201915b5050505050905090565b6127cd6139f1565b600080600115156127dc611f52565b15151415156127ea57600080fd5b61283b612835876128306040805190810160405280600181526020017f200000000000000000000000000000000000000000000000000000000000000081525089612b02565b612b02565b85612b02565b9250600091505b60058054905082101561295757826040518082805190602001908083835b6020831015156128855780518252602082019150602081019050602083039250612860565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019166005838154811015156128c557fe5b9060005260206000209001604051808280546001816001161561010002031660029004801561292b5780601f1061290957610100808354040283529182019161292b565b820191906000526020600020905b815481529060010190602001808311612917575b5050915050604051809103902060001916141561294a57819050612957565b8180600101925050612842565b6005805490508110151561296a576129f9565b8091505b6001600580549050038210156129e25760056001830181548110151561299057fe5b90600052602060002090016005838154811015156129aa57fe5b906000526020600020900190805460018160011615610100020316600290046129d4929190613add565b50818060010192505061296e565b60058054809190600190036129f79190613b64565b505b505050505050565b600281815481101515612a1057fe5b90600052602060002090016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b612a486139f1565b60011515612a54611f52565b1515141515612a6257600080fd5b600a8054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015612af85780601f10612acd57610100808354040283529160200191612af8565b820191906000526020600020905b815481529060010190602001808311612adb57829003601f168201915b5050505050905090565b612b0a6139f1565b612b12613b90565b612b1a613b90565b612b226139f1565b612b2a613b90565b6000808895508794508451865101604051805910612b455750595b9080825280602002602001820160405250935083925060009150600090505b8551811015612c17578581815181101515612b7b57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000028383806001019450815181101515612bda57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050612b64565b600090505b8451811015612ccf578481815181101515612c3357fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000028383806001019450815181101515612c9257fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050612c1c565b82965050505050505092915050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b612d0b613ba4565b6001805480602002602001604051908101604052809291908181526020018280548015612d8d57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311612d43575b5050505050905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515612df257600080fd5b80600b9080519060200190612e08929190613a31565b5050565b6000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515612e6a57600080fd5b600091505b600280549050821015612f8d57826040518082805190602001908083835b602083101515612eb25780518252602082019150602081019050602083039250612e8d565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916600283815481101515612ef257fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040518091039020600019161415612f8057819050612f8d565b8180600101925050612e6f565b60028054905081101515612fa05761306e565b8091505b60016002805490500382101561305757600260018301815481101515612fc657fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660028381548110151561300157fe5b906000526020600020900160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508180600101925050612fa4565b600280548091906001900361306c9190613bb8565b505b505050565b6000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156130d157600080fd5b600091505b6005805490508210156131f457826040518082805190602001908083835b60208310151561311957805182526020820191506020810190506020830392506130f4565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660018381548110151561315957fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206000191614156131e7578190506131f4565b81806001019250506130d6565b60018054905081101515613207576132d3565b8091505b60018080549050038210156132bc57600180830181548110151561322b57fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1660018381548110151561326657fe5b906000526020600020900160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550818060010192505061320b565b60018054809190600190036132d19190613bb8565b505b505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561333357600080fd5b80600d9080519060200190613349929190613a31565b5050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156133a857600080fd5b80600790805190602001906133be929190613a31565b5050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561341d57600080fd5b600180548060010182816134319190613ab1565b9160005260206000209001600083909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156134de57600080fd5b600580548060010182816134f29190613a05565b9160005260206000209001600061355061354a876135456040805190810160405280600181526020017f200000000000000000000000000000000000000000000000000000000000000081525089612b02565b612b02565b85612b02565b90919091509080519060200190613568929190613a31565b5050505050565b60006001151561357d611f52565b151514151561358b57600080fd5b600580549050905090565b61359e6139f1565b600115156135aa611f52565b15151415156135b857600080fd5b600d8054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561364e5780601f106136235761010080835404028352916020019161364e565b820191906000526020600020905b81548152906001019060200180831161363157829003601f168201915b5050505050905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156136b357600080fd5b80600890805190602001906136c9929190613a31565b5050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561372857600080fd5b80600a908051906020019061373e929190613a31565b5050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561379d57600080fd5b80600c90805190602001906137b3929190613a31565b5050565b6137bf6139f1565b600115156137cb611f52565b15151415156137d957600080fd5b6010828154811015156137e857fe5b90600052602060002090018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156138875780601f1061385c57610100808354040283529160200191613887565b820191906000526020600020905b81548152906001019060200180831161386a57829003601f168201915b50505050509050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156138ee57600080fd5b80600e9080519060200190613904929190613a31565b5050565b6139106139f1565b6001151561391c611f52565b151514151561392a57600080fd5b600b8054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156139c05780601f10613995576101008083540402835291602001916139c0565b820191906000526020600020905b8154815290600101906020018083116139a357829003601f168201915b5050505050905090565b6000600115156139d8611f52565b15151415156139e657600080fd5b601080549050905090565b602060405190810160405280600081525090565b815481835581811511613a2c57818360005260206000209182019101613a2b9190613be4565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10613a7257805160ff1916838001178555613aa0565b82800160010185558215613aa0579182015b82811115613a9f578251825591602001919060010190613a84565b5b509050613aad9190613c10565b5090565b815481835581811511613ad857818360005260206000209182019101613ad79190613c10565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10613b165780548555613b53565b82800160010185558215613b5357600052602060002091601f016020900482015b82811115613b52578254825591600101919060010190613b37565b5b509050613b609190613c10565b5090565b815481835581811511613b8b57818360005260206000209182019101613b8a9190613be4565b5b505050565b602060405190810160405280600081525090565b602060405190810160405280600081525090565b815481835581811511613bdf57818360005260206000209182019101613bde9190613c10565b5b505050565b613c0d91905b80821115613c095760008181613c009190613c35565b50600101613bea565b5090565b90565b613c3291905b80821115613c2e576000816000905550600101613c16565b5090565b90565b50805460018160011615610100020316600290046000825580601f10613c5b5750613c7a565b601f016020900490600052602060002090810190613c799190613c10565b5b505600a165627a7a7230582000e3586ae2cd008fe48ecfd7a85afb6120878d6a6bb8a640212682886cd957fc0029",
      arguments: [
        patientData.name,
        patientData.dob,
        patientData.email,
        patientData.phone,
        patientData.address,
        patientData.zip,
        patientData.district,
        patientData.city,
        patientData.state,
      ],
    })
    .send(
      {
        from: accounts[0],
        gas: "3439254",
      },
      function (e, contract) {
        console.log(e, contract);
        if (typeof contract.address !== "undefined") {
          console.log(
            "Contract mined! address: " +
              contract.address +
              " transactionHash: " +
              contract.transactionHash
          );
        }
      }
    );
    setMessageValue(
      "Transaction Success" + "Contract deployed to:- " + ehr.options.address
    );
    setAddress(ehr.options.address);
    props.addressChanger(ehr.options.address);
  };
  const [m, setM]=useState("");
  return (
    <Container fluid>
      <Row no-gutter>
        <Col className="col-md-6 d-none d-md-flex bg-image"></Col>
        <Col className="col-md-6 bg-light">
          <div className="login d-flex align-items-center py-5">
            <Container>
              <Row>
                <Col className="col-lg-10 col-xl-7 mx-auto">
                  <h5 className="display-5 heading">SIGN UP</h5>
                  <br />
                  <SignUpForm onSignUp={submitHandler} />
                  <p>{messageValue}</p>
                  Click to Copy:
                  <CopyToClipboard
                    text={address}
                    onCopy={() => {setM("    Copied!")}}
                  >
                    <Button variant="contained" color="primary" fullWidth>
                      {address}
                    </Button>
                  </CopyToClipboard>
                  {m}
                </Col>
              </Row>
            </Container>
          </div>
        </Col>
      </Row>
    </Container>
  );
};
export default SignUpPage;